# ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®åç§°**: Fastify-React-App-Enhance  
**æ¶æ„ç±»å‹**: Monorepo å…¨æ ˆåº”ç”¨  
**æŠ€æœ¯æ ˆ**: Fastify + Prisma + PostgreSQL + React + Vite + TypeScript + ESM + Docker + CI/CD

## ğŸ¯ è®¾è®¡åŸåˆ™

- **æ¨¡å—åŒ–**: å‰åç«¯åˆ†ç¦»ï¼Œç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²
- **ç±»å‹å®‰å…¨**: å…¨æ ˆ TypeScript æ”¯æŒ
- **ç°ä»£æ¨¡å—ç³»ç»Ÿ**: ç»Ÿä¸€ä½¿ç”¨ ESM (ES Modules)
- **é«˜æ€§èƒ½**: Fastify è½»é‡çº§åç«¯ï¼ŒVite å¿«é€Ÿæ„å»º
- **å¯æ‰©å±•**: æ”¯æŒå¾®æœåŠ¡æ¶æ„æ¼”è¿›
- **å¼€å‘å‹å¥½**: çƒ­é‡è½½ã€è‡ªåŠ¨åŒ–å·¥å…·é“¾
- **ç”Ÿäº§å°±ç»ª**: å®Œæ•´çš„ CI/CD å’Œéƒ¨ç½²æ–¹æ¡ˆ

---

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```text
fastify-react-app-enhance/
â”œâ”€â”€ apps/                                 # ğŸš€ åº”ç”¨å±‚
â”‚   â”œâ”€â”€ web/                              # ğŸ–¥ï¸ å‰ç«¯ React åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/               # é€šç”¨ç»„ä»¶åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/                    # è·¯ç”±é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/                    # è‡ªå®šä¹‰ hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ api/                      # API è¯·æ±‚å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ store/                    # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ main.tsx                  # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.html                    # HTML æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ package.json                  # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â”‚   â””â”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”‚   â”‚
â”‚   â””â”€â”€ api/                              # âš™ï¸ åç«¯ Fastify æœåŠ¡
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ app.ts                    # Fastify åº”ç”¨å®ä¾‹
â”‚       â”‚   â”œâ”€â”€ server.ts                 # æœåŠ¡å™¨å¯åŠ¨
â”‚       â”‚   â”œâ”€â”€ routes/                   # è·¯ç”±å±‚
â”‚       â”‚   â”‚   â””â”€â”€ user.route.ts         # ç”¨æˆ·è·¯ç”±
â”‚       â”‚   â”œâ”€â”€ controllers/              # æ§åˆ¶å™¨å±‚
â”‚       â”‚   â”‚   â””â”€â”€ user.controller.ts    # ç”¨æˆ·æ§åˆ¶å™¨
â”‚       â”‚   â”œâ”€â”€ services/                 # ä¸šåŠ¡é€»è¾‘å±‚
â”‚       â”‚   â”‚   â””â”€â”€ user.service.ts       # ç”¨æˆ·æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ middlewares/              # ä¸­é—´ä»¶ (æ¨¡æ¿ç›®å½•)
â”‚       â”‚   â”œâ”€â”€ models/                   # æ•°æ®æ¨¡å‹ (æ¨¡æ¿ç›®å½•)
â”‚       â”‚   â”œâ”€â”€ plugins/                  # Fastify æ’ä»¶ (æ¨¡æ¿ç›®å½•)
â”‚       â”‚   â”œâ”€â”€ utils/                    # å·¥å…·åº“
â”‚       â”‚   â”‚   â””â”€â”€ logger.ts             # æ—¥å¿—å·¥å…·
â”‚       â”‚   â”œâ”€â”€ config/                   # é…ç½®
â”‚       â”‚   â”‚   â””â”€â”€ env.ts                # ç¯å¢ƒå˜é‡
â”‚       â”‚   â””â”€â”€ prismaClient.ts           # Prisma å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ prisma/
â”‚       â”‚   â””â”€â”€ schema.prisma             # æ•°æ®åº“æ¨¡å‹
â”‚       â”œâ”€â”€ tests/                        # æµ‹è¯•æ–‡ä»¶
â”‚       â”‚   â”œâ”€â”€ unit/                     # å•å…ƒæµ‹è¯•
â”‚       â”‚   â””â”€â”€ integration/              # é›†æˆæµ‹è¯•
â”‚       â”œâ”€â”€ jest.config.js                # Jest é…ç½®
â”‚       â”œâ”€â”€ jest.setup.js                 # Jest è®¾ç½®
â”‚       â”œâ”€â”€ package.json                  # åç«¯ä¾èµ–é…ç½®
â”‚       â””â”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”‚
â”œâ”€â”€ tools/scripts/                        # ğŸ§° è‡ªåŠ¨åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ automation/                       # è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬
â”‚   â”œâ”€â”€ database/                         # æ•°æ®åº“ç›¸å…³è„šæœ¬
â”‚   â”œâ”€â”€ deployment/                       # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ development/                      # å¼€å‘å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ maintenance/                      # ç»´æŠ¤è„šæœ¬
â”‚   â””â”€â”€ monitoring/                       # ç›‘æ§è„šæœ¬
â”‚
â”œâ”€â”€ docs/                                 # ğŸ“˜ æ–‡æ¡£ä¸­å¿ƒ
â”‚   â”œâ”€â”€ api/                              # API æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/                     # æ¶æ„æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ architecture.md               # ç³»ç»Ÿæ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ development/                      # å¼€å‘æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ README.md                     # å¼€å‘æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ dev-tools.md                  # å¼€å‘å·¥å…·æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ optimization-plan.md          # ä¼˜åŒ–è®¡åˆ’
â”‚   â”œâ”€â”€ deployment/                       # éƒ¨ç½²æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ README.md                     # éƒ¨ç½²æŒ‡å—
â”‚   â”‚   â””â”€â”€ docker.md                     # Docker éƒ¨ç½²
â”‚   â”œâ”€â”€ database/                         # æ•°æ®åº“æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ README.md                     # æ•°æ®åº“è®¾è®¡
â”‚   â”œâ”€â”€ generated/                        # è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ analysis/                     # åˆ†ææŠ¥å‘Š
â”‚   â”‚   â”œâ”€â”€ reports/                      # æ£€æŸ¥æŠ¥å‘Š
â”‚   â”‚   â”œâ”€â”€ config/                       # é…ç½®æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ testing/                      # æµ‹è¯•æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ changelog/                    # å˜æ›´æ—¥å¿—
â”‚   â””â”€â”€ README.md                         # æ–‡æ¡£é¦–é¡µ
â”‚
â”œâ”€â”€ infrastructure/                       # â˜ï¸ åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ docker/                           # Docker é…ç½®
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml            # å¤šæœåŠ¡ç¼–æ’
â”‚   â”‚   â”œâ”€â”€ fastify.Dockerfile            # API é•œåƒ
â”‚   â”‚   â””â”€â”€ web.Dockerfile                # Web é•œåƒ
â”‚   â”œâ”€â”€ database/                         # æ•°æ®åº“æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ postgres/                     # PostgreSQL æ•°æ®
â”‚   â”‚   â””â”€â”€ redis/                        # Redis æ•°æ®
â”‚   â”œâ”€â”€ k8s/                              # Kubernetes é…ç½®
â”‚   â””â”€â”€ scripts/                          # åŸºç¡€è®¾æ–½è„šæœ¬
â”‚
â”œâ”€â”€ config/                               # ğŸ”§ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ env-templates/                    # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ root.env                      # æ ¹ç›®å½•ç¯å¢ƒå˜é‡
â”‚   â”‚   â”œâ”€â”€ api.env                       # API ç¯å¢ƒå˜é‡
â”‚   â”‚   â””â”€â”€ web.env                       # Web ç¯å¢ƒå˜é‡
â”‚   â”œâ”€â”€ env.ts                            # ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ logger.ts                         # æ—¥å¿—é…ç½®
â”‚   â””â”€â”€ eslint.config.js                  # ESLint é…ç½®
â”‚
â”œâ”€â”€ services/                             # ğŸ”Œ æœåŠ¡é…ç½®
â”‚   â””â”€â”€ grpc/                             # gRPC æœåŠ¡
â”‚       â”œâ”€â”€ proto/                        # Protocol Buffers
â”‚       â”‚   â””â”€â”€ user.proto                # ç”¨æˆ·æœåŠ¡å®šä¹‰
â”‚       â”œâ”€â”€ client/                       # gRPC å®¢æˆ·ç«¯
â”‚       â”‚   â””â”€â”€ client.ts                 # å®¢æˆ·ç«¯å®ç°
â”‚       â”œâ”€â”€ server/                       # gRPC æœåŠ¡ç«¯
â”‚       â”‚   â””â”€â”€ server.ts                 # æœåŠ¡ç«¯å®ç°
â”‚       â””â”€â”€ README.md                     # gRPC è¯´æ˜
â”‚
â”œâ”€â”€ tests/                                # ğŸ§ª é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ e2e/                              # E2E æµ‹è¯•
â”‚   â”‚   â””â”€â”€ user-flow.test.ts             # ç”¨æˆ·æµç¨‹æµ‹è¯•
â”‚   â”œâ”€â”€ utils/                            # æµ‹è¯•å·¥å…·
â”‚   â”‚   â””â”€â”€ mock.ts                       # Mock æ•°æ®
â”‚   â””â”€â”€ README.md                         # æµ‹è¯•è¯´æ˜
â”‚
â”œâ”€â”€ config/                               # âš™ï¸ å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ env.ts                            # ç¯å¢ƒå˜é‡é…ç½®
â”‚   â””â”€â”€ logger.ts                         # æ—¥å¿—é…ç½®
â”‚
â”œâ”€â”€ temp/                                 # ğŸ“ ä¸´æ—¶æ–‡ä»¶ç›®å½•
â”œâ”€â”€ cache/                                # ğŸ’¾ ç¼“å­˜ç›®å½•
â”œâ”€â”€ backups/                              # ğŸ’¾ å¤‡ä»½ç›®å½•
â”‚
â”œâ”€â”€ .github/                              # ğŸ”„ CI/CD é…ç½®
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml                        # GitHub Actions
â”‚
â”œâ”€â”€ .husky/                               # ğŸª Git Hooks
â”‚   â””â”€â”€ pre-commit                        # æäº¤å‰æ£€æŸ¥
â”‚
â”œâ”€â”€ package.json                          # æ ¹é¡¹ç›®é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml                   # pnpm å·¥ä½œç©ºé—´
â”œâ”€â”€ eslint.config.js                      # ESLint é…ç½®
â”œâ”€â”€ .prettierrc                           # Prettier é…ç½®
â”œâ”€â”€ .prettierignore                       # Prettier å¿½ç•¥
â”œâ”€â”€ .lintstagedrc.js                      # lint-staged é…ç½®
â”œâ”€â”€ .gitignore                            # Git å¿½ç•¥
â””â”€â”€ README.md                             # é¡¹ç›®è¯´æ˜

```

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚"
        A[React Web App<br/>Vite + TypeScript]
    end

    subgraph "API ç½‘å…³å±‚"
        B[Fastify API Server<br/>Port: 8001]
    end

    subgraph "ä¸šåŠ¡é€»è¾‘å±‚"
        C[Controllers<br/>è¯·æ±‚å¤„ç†]
        D[Services<br/>ä¸šåŠ¡é€»è¾‘]
        E[Middlewares<br/>ä¸­é—´ä»¶]
    end

    subgraph "æ•°æ®è®¿é—®å±‚"
        F[Prisma ORM<br/>ç±»å‹å®‰å…¨]
    end

    subgraph "æ•°æ®å­˜å‚¨å±‚"
        G[PostgreSQL<br/>ä¸»æ•°æ®åº“]
        H[Redis<br/>ç¼“å­˜å±‚]
    end

    subgraph "é€šä¿¡å±‚"
        I[gRPC Services<br/>å¾®æœåŠ¡é€šä¿¡]
    end

    A -->|HTTP/REST| B
    B --> C
    C --> D
    D --> F
    F --> G
    D --> H
    B --> I

    style A fill:#61dafb
    style B fill:#202020
    style G fill:#336791
    style H fill:#dc382d
```

---

## ğŸ”„ æ•°æ®æµæ¶æ„

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant W as Web App
    participant A as API Server
    participant S as Service
    participant P as Prisma
    participant D as Database

    U->>W: ç”¨æˆ·æ“ä½œ
    W->>A: HTTP è¯·æ±‚
    A->>S: ä¸šåŠ¡é€»è¾‘å¤„ç†
    S->>P: æ•°æ®åº“æŸ¥è¯¢
    P->>D: SQL æ‰§è¡Œ
    D-->>P: è¿”å›æ•°æ®
    P-->>S: ç±»å‹åŒ–æ•°æ®
    S-->>A: å¤„ç†ç»“æœ
    A-->>W: JSON å“åº”
    W-->>U: æ›´æ–°ç•Œé¢
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆæ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ

```
React 19.2.0
â”œâ”€â”€ Vite 7.1.9 (æ„å»ºå·¥å…·)
â”œâ”€â”€ TypeScript 5.7.2 (ç±»å‹ç³»ç»Ÿ)
â”œâ”€â”€ ESM (ES Modules) (æ¨¡å—ç³»ç»Ÿ)
â”œâ”€â”€ TailwindCSS (æ ·å¼ç³»ç»Ÿ)
â”œâ”€â”€ shadcn/ui (ç»„ä»¶åº“)
â””â”€â”€ ç»„ä»¶åŒ–æ¶æ„
```

### åç«¯æŠ€æœ¯æ ˆ

```
Fastify 5.6.1
â”œâ”€â”€ TypeScript 5.7.2 (ç±»å‹ç³»ç»Ÿ)
â”œâ”€â”€ ESM (ES Modules) (æ¨¡å—ç³»ç»Ÿ)
â”œâ”€â”€ Prisma 5.22.0 (ORM)
â”œâ”€â”€ PostgreSQL 15+ (æ•°æ®åº“)
â”œâ”€â”€ Pino (æ—¥å¿—ç³»ç»Ÿ)
â”œâ”€â”€ Jest 30.2.0 (æµ‹è¯•æ¡†æ¶)
â”œâ”€â”€ tsx (TypeScript æ‰§è¡Œå™¨)
â””â”€â”€ åˆ†å±‚æ¶æ„ (Controller â†’ Service â†’ Repository)
```

### å¼€å‘å·¥å…·é“¾

```
pnpm 10.18.0 (åŒ…ç®¡ç†)
â”œâ”€â”€ ESLint (ä»£ç æ£€æŸ¥)
â”œâ”€â”€ Prettier (ä»£ç æ ¼å¼åŒ–)
â”œâ”€â”€ ESM (ES Modules) (æ¨¡å—ç³»ç»Ÿ)
â”œâ”€â”€ Husky (Git Hooks)
â”œâ”€â”€ lint-staged (æäº¤å‰æ£€æŸ¥)
â””â”€â”€ GitHub Actions (CI/CD)
```

---

## ğŸ“Š æœåŠ¡ç«¯å£é…ç½®

| æœåŠ¡       | ç«¯å£  | åè®® | è¯´æ˜           |
| ---------- | ----- | ---- | -------------- |
| Web App    | 5173  | HTTP | å‰ç«¯å¼€å‘æœåŠ¡å™¨ |
| API Server | 8001  | HTTP | åç«¯ API æœåŠ¡  |
| PostgreSQL | 5432  | TCP  | æ•°æ®åº“æœåŠ¡     |
| Redis      | 6379  | TCP  | ç¼“å­˜æœåŠ¡       |
| gRPC       | 50051 | gRPC | å¾®æœåŠ¡é€šä¿¡     |

---

## ğŸ” å®‰å…¨æ¶æ„

### è®¤è¯ä¸æˆæƒ

```
JWT Token
â”œâ”€â”€ è®¿é—®ä»¤ç‰Œ (Access Token)
â”œâ”€â”€ åˆ·æ–°ä»¤ç‰Œ (Refresh Token)
â””â”€â”€ bcrypt å¯†ç åŠ å¯†
```

### æ•°æ®å®‰å…¨

```
Prisma ORM
â”œâ”€â”€ SQL æ³¨å…¥é˜²æŠ¤
â”œâ”€â”€ ç±»å‹å®‰å…¨æŸ¥è¯¢
â””â”€â”€ æ•°æ®åº“è¿æ¥æ± 
```

### ç½‘ç»œå®‰å…¨

```
CORS é…ç½®
â”œâ”€â”€ è·¨åŸŸè¯·æ±‚æ§åˆ¶
â”œâ”€â”€ è¯·æ±‚å¤´éªŒè¯
â””â”€â”€ ç¯å¢ƒå˜é‡ä¿æŠ¤
```

---

## ğŸš€ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ

```
Docker Compose
â”œâ”€â”€ PostgreSQL å®¹å™¨
â”œâ”€â”€ Redis å®¹å™¨
â”œâ”€â”€ API æœåŠ¡ (çƒ­é‡è½½)
â””â”€â”€ Web æœåŠ¡ (çƒ­é‡è½½)
```

### ç”Ÿäº§ç¯å¢ƒ

```
Docker å®¹å™¨åŒ–
â”œâ”€â”€ Nginx åå‘ä»£ç†
â”œâ”€â”€ SSL/TLS åŠ å¯†
â”œâ”€â”€ PM2 è¿›ç¨‹ç®¡ç†
â””â”€â”€ ç›‘æ§å’Œæ—¥å¿—
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### å‰ç«¯ä¼˜åŒ–

- **ä»£ç åˆ†å‰²**: Vite è‡ªåŠ¨ä»£ç åˆ†å‰²
- **æ‡’åŠ è½½**: è·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½
- **ç¼“å­˜ç­–ç•¥**: é™æ€èµ„æºç¼“å­˜
- **å‹ç¼©**: Gzip/Brotli å‹ç¼©

### åç«¯ä¼˜åŒ–

- **è¿æ¥æ± **: Prisma æ•°æ®åº“è¿æ¥æ± 
- **ç¼“å­˜**: Redis ç¼“å­˜å±‚
- **å‹ç¼©**: Fastify å†…ç½®å‹ç¼©
- **æ—¥å¿—**: ç»“æ„åŒ–æ—¥å¿—è®°å½•

### æ•°æ®åº“ä¼˜åŒ–

- **ç´¢å¼•**: æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–
- **è¿æ¥æ± **: è¿æ¥å¤ç”¨
- **æŸ¥è¯¢ä¼˜åŒ–**: Prisma æŸ¥è¯¢ä¼˜åŒ–
- **å¤‡ä»½**: å®šæœŸæ•°æ®å¤‡ä»½

---

## ğŸ”„ CI/CD æµæ°´çº¿

```mermaid
graph LR
    A[ä»£ç æäº¤] --> B[GitHub Actions]
    B --> C[ä»£ç æ£€æŸ¥]
    C --> D[è¿è¡Œæµ‹è¯•]
    D --> E[æ„å»ºé•œåƒ]
    E --> F[éƒ¨ç½²åˆ°ç”Ÿäº§]

    style A fill:#f9f9f9
    style B fill:#2088ff
    style F fill:#28a745
```

### è‡ªåŠ¨åŒ–æµç¨‹

1. **ä»£ç æäº¤**: è§¦å‘ CI/CD æµæ°´çº¿
2. **ä»£ç æ£€æŸ¥**: ESLint + Prettier æ£€æŸ¥
3. **è¿è¡Œæµ‹è¯•**: å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
4. **æ„å»ºé•œåƒ**: Docker é•œåƒæ„å»º
5. **éƒ¨ç½²**: è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

---

## ğŸ“š æ‰©å±•æ€§è®¾è®¡

### æ°´å¹³æ‰©å±•

- **API æœåŠ¡**: å¤šå®ä¾‹è´Ÿè½½å‡è¡¡
- **æ•°æ®åº“**: è¯»å†™åˆ†ç¦»ï¼Œä¸»ä»å¤åˆ¶
- **ç¼“å­˜**: Redis é›†ç¾¤
- **æ–‡ä»¶å­˜å‚¨**: å¯¹è±¡å­˜å‚¨æœåŠ¡

### å‚ç›´æ‰©å±•

- **æœåŠ¡å™¨é…ç½®**: CPU/å†…å­˜å‡çº§
- **æ•°æ®åº“ä¼˜åŒ–**: æŸ¥è¯¢ä¼˜åŒ–ï¼Œç´¢å¼•ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: å¤šçº§ç¼“å­˜
- **CDN**: é™æ€èµ„æºåŠ é€Ÿ

---

## ğŸ“ ç›®å½•ç»“æ„è¯´æ˜

### æ¨¡æ¿ç›®å½•

ä»¥ä¸‹ç›®å½•è™½ç„¶ç›®å‰ä¸ºç©ºï¼Œä½†å®ƒä»¬æ˜¯é¡¹ç›®æ¨¡æ¿çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼š

#### `apps/api/src/middlewares/`

- **ç”¨é€”**: å­˜æ”¾ Fastify ä¸­é—´ä»¶
- **ç¤ºä¾‹**: èº«ä»½éªŒè¯ã€CORSã€é™æµã€é”™è¯¯å¤„ç†ç­‰ä¸­é—´ä»¶
- **é‡è¦æ€§**: æä¾›å¯æ‰©å±•çš„ä¸­é—´ä»¶æ¶æ„

#### `apps/api/src/models/`

- **ç”¨é€”**: å­˜æ”¾æ•°æ®æ¨¡å‹å’Œç±»å‹å®šä¹‰
- **ç¤ºä¾‹**: ç”¨æˆ·æ¨¡å‹ã€äº§å“æ¨¡å‹ã€è¯·æ±‚/å“åº”ç±»å‹ç­‰
- **é‡è¦æ€§**: æä¾›ç±»å‹å®‰å…¨çš„æ•°æ®ç»“æ„

#### `apps/api/src/plugins/`

- **ç”¨é€”**: å­˜æ”¾ Fastify æ’ä»¶
- **ç¤ºä¾‹**: Swaggerã€CORSã€å®‰å…¨æ’ä»¶ç­‰
- **é‡è¦æ€§**: æä¾›å¯å¤ç”¨çš„åŠŸèƒ½æ¨¡å—

#### `temp/`

- **ç”¨é€”**: å­˜æ”¾ä¸´æ—¶æ–‡ä»¶å’Œæ„å»ºè¿‡ç¨‹ä¸­çš„ä¸­é—´æ–‡ä»¶
- **é‡è¦æ€§**: æä¾›ä¸´æ—¶æ–‡ä»¶å­˜å‚¨ç©ºé—´

#### `cache/`

- **ç”¨é€”**: å­˜æ”¾å„ç§ç¼“å­˜æ–‡ä»¶
- **é‡è¦æ€§**: æä¾›ç¼“å­˜å­˜å‚¨ç©ºé—´

#### `backups/`

- **ç”¨é€”**: å­˜æ”¾é¡¹ç›®å¤‡ä»½æ–‡ä»¶
- **é‡è¦æ€§**: æä¾›æ•°æ®å¤‡ä»½å­˜å‚¨ç©ºé—´

---

## ğŸ¯ æ¶æ„å†³ç­–è®°å½• (ADR)

### ADR-001: é€‰æ‹© Fastify ä½œä¸ºåç«¯æ¡†æ¶

**çŠ¶æ€**: å·²æ¥å—  
**åŸå› **:

- é«˜æ€§èƒ½ï¼Œæ¯” Express å¿« 2-3 å€
- å†…ç½® TypeScript æ”¯æŒ
- ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€
- ä¼˜ç§€çš„é”™è¯¯å¤„ç†

### ADR-002: é€‰æ‹© Prisma ä½œä¸º ORM

**çŠ¶æ€**: å·²æ¥å—  
**åŸå› **:

- ç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®
- è‡ªåŠ¨ç”Ÿæˆå®¢æˆ·ç«¯
- ä¼˜ç§€çš„å¼€å‘ä½“éªŒ
- æ”¯æŒå¤šç§æ•°æ®åº“

### ADR-003: é€‰æ‹© pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨

**çŠ¶æ€**: å·²æ¥å—  
**åŸå› **:

- æ›´å¿«çš„å®‰è£…é€Ÿåº¦
- ç£ç›˜ç©ºé—´æ•ˆç‡
- ä¸¥æ ¼çš„ä¾èµ–ç®¡ç†
- æ”¯æŒ monorepo

---

## ğŸ“‹ æ¶æ„æ£€æŸ¥æ¸…å•

### ä»£ç è´¨é‡

- [x] TypeScript ä¸¥æ ¼æ¨¡å¼
- [x] ESLint ä»£ç æ£€æŸ¥
- [x] Prettier ä»£ç æ ¼å¼åŒ–
- [x] Git Hooks è‡ªåŠ¨åŒ–æ£€æŸ¥

### æµ‹è¯•è¦†ç›–

- [x] å•å…ƒæµ‹è¯•æ¡†æ¶ (Jest)
- [x] é›†æˆæµ‹è¯•æ”¯æŒ
- [x] æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- [x] E2E æµ‹è¯•å‡†å¤‡

### å®‰å…¨æªæ–½

- [x] ç¯å¢ƒå˜é‡ä¿æŠ¤
- [x] CORS é…ç½®
- [x] è¾“å…¥éªŒè¯
- [ ] JWT è®¤è¯ (å¾…å®ç°)
- [ ] é€Ÿç‡é™åˆ¶ (å¾…å®ç°)

### æ€§èƒ½ä¼˜åŒ–

- [x] æ•°æ®åº“è¿æ¥æ± 
- [x] ä»£ç åˆ†å‰²
- [x] é™æ€èµ„æºä¼˜åŒ–
- [ ] Redis ç¼“å­˜ (å¾…å®ç°)
- [ ] CDN é…ç½® (å¾…å®ç°)

### ç›‘æ§æ—¥å¿—

- [x] ç»“æ„åŒ–æ—¥å¿— (Pino)
- [x] é”™è¯¯å¤„ç†
- [ ] æ€§èƒ½ç›‘æ§ (å¾…å®ç°)
- [ ] å¥åº·æ£€æŸ¥ (å¾…å®ç°)

---

## ğŸ”® æœªæ¥æ¶æ„æ¼”è¿›

### çŸ­æœŸç›®æ ‡ (1-3 ä¸ªæœˆ)

- [ ] æ·»åŠ  Redis ç¼“å­˜å±‚
- [ ] å®ç° JWT è®¤è¯ç³»ç»Ÿ
- [ ] æ·»åŠ  API æ–‡æ¡£ç”Ÿæˆ
- [ ] å®Œå–„ç›‘æ§å’Œå‘Šè­¦

### ä¸­æœŸç›®æ ‡ (3-6 ä¸ªæœˆ)

- [ ] å¾®æœåŠ¡æ¶æ„æ‹†åˆ†
- [ ] æ¶ˆæ¯é˜Ÿåˆ—é›†æˆ
- [ ] åˆ†å¸ƒå¼ç¼“å­˜
- [ ] å®¹å™¨ç¼–æ’ (Kubernetes)

### é•¿æœŸç›®æ ‡ (6-12 ä¸ªæœˆ)

- [ ] äº‘åŸç”Ÿæ¶æ„
- [ ] æœåŠ¡ç½‘æ ¼
- [ ] äº‹ä»¶é©±åŠ¨æ¶æ„
- [ ] å¤šç§Ÿæˆ·æ”¯æŒ

---

_æœ€åæ›´æ–°: 2025-01-27_  
_æ¶æ„ç‰ˆæœ¬: 2.0_
