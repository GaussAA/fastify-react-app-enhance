# ğŸ”§ è‡ªåŠ¨åŒ–è„šæœ¬å·¥å…·é›†

**ä½ç½®**: `tools/scripts/automation/`  
**ç”¨é€”**: é¡¹ç›®è‡ªåŠ¨åŒ–æ£€æŸ¥å’Œä»»åŠ¡æ‰§è¡Œ  
**æ›´æ–°æ—¶é—´**: 2025-01-27  

## ğŸ“‹ è„šæœ¬æ¦‚è§ˆ

| è„šæœ¬åç§°                      | åŠŸèƒ½æè¿°       | ä½¿ç”¨åœºæ™¯                     |
| ----------------------------- | -------------- | ---------------------------- |
| `automation-analysis.js`      | è‡ªåŠ¨åŒ–ä»»åŠ¡åˆ†æ | åˆ†æé¡¹ç›®å¯è‡ªåŠ¨åŒ–çš„ä»»åŠ¡       |
| `check-database-config.js`    | æ•°æ®åº“é…ç½®æ£€æŸ¥ | æ£€æŸ¥PostgreSQLå’ŒRedisé…ç½®    |
| `check-environment.js`        | ç¯å¢ƒæ£€æŸ¥       | æ£€æŸ¥å¼€å‘ç¯å¢ƒä¾èµ–å’Œé…ç½®       |
| `code-quality-check.js`       | ä»£ç è´¨é‡æ£€æŸ¥   | åˆ†æä»£ç å¤æ‚åº¦å’Œè´¨é‡æŒ‡æ ‡     |
| `config-updater.js`           | é…ç½®æ›´æ–°å·¥å…·   | å®‰å…¨æ›´æ–°ç¯å¢ƒé…ç½®å’ŒDockeré…ç½® |
| `run-all-checks.js`           | ç»¼åˆæ£€æŸ¥       | è¿è¡Œæ‰€æœ‰è‡ªåŠ¨åŒ–æ£€æŸ¥           |
| `security-audit.js`           | å®‰å…¨å®¡è®¡       | æ£€æŸ¥ä¾èµ–åŒ…çš„å®‰å…¨æ¼æ´         |
| `security-check.js`           | å®‰å…¨é…ç½®æ£€æŸ¥   | æ£€æŸ¥ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯           |
| `test-database-connection.js` | æ•°æ®åº“è¿æ¥æµ‹è¯• | æµ‹è¯•PostgreSQLå’ŒRedisè¿æ¥    |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒæ£€æŸ¥
```bash
# æ£€æŸ¥å¼€å‘ç¯å¢ƒ
pnpm run check:env
# æˆ–ç›´æ¥è¿è¡Œ
node tools/scripts/automation/check-environment.js
```

### 2. å®‰å…¨å®¡è®¡
```bash
# è¿è¡Œå®‰å…¨å®¡è®¡
pnpm run check:security
# æˆ–ç›´æ¥è¿è¡Œ
node tools/scripts/automation/security-audit.js
```

### 3. ä»£ç è´¨é‡æ£€æŸ¥
```bash
# æ£€æŸ¥ä»£ç è´¨é‡
pnpm run check:quality
# æˆ–ç›´æ¥è¿è¡Œ
node tools/scripts/automation/code-quality-check.js
```

### 4. ç»¼åˆæ£€æŸ¥
```bash
# è¿è¡Œæ‰€æœ‰æ£€æŸ¥
pnpm run check:all
# æˆ–ç›´æ¥è¿è¡Œ
node tools/scripts/automation/run-all-checks.js
```

---

## ğŸ“– è¯¦ç»†ä½¿ç”¨è¯´æ˜

### ğŸ” ç¯å¢ƒæ£€æŸ¥è„šæœ¬ (`check-environment.js`)

**åŠŸèƒ½**: å…¨é¢æ£€æŸ¥å¼€å‘ç¯å¢ƒçš„ä¾èµ–å’Œé…ç½®

**æ£€æŸ¥é¡¹ç›®**:
- Node.js ç‰ˆæœ¬ (>= 22.0.0)
- åŒ…ç®¡ç†å™¨ (pnpm >= 10.0.0, npm >= 11.0.0)
- Docker å®‰è£…å’Œè¿è¡ŒçŠ¶æ€
- é¡¹ç›®ç»“æ„å®Œæ•´æ€§
- ç¯å¢ƒé…ç½®æ–‡ä»¶
- ä¾èµ–å®‰è£…çŠ¶æ€
- Git é…ç½®
- ä»£ç è´¨é‡å·¥å…·

**ä½¿ç”¨æ–¹æ³•**:
```bash
# åŸºæœ¬æ£€æŸ¥
node tools/scripts/automation/check-environment.js

# æ£€æŸ¥ç»“æœä¼šä¿å­˜åˆ° docs/generated/reports/checks/environment-check.json
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ” å¼€å§‹ç¯å¢ƒæ£€æŸ¥...

ğŸ“¦ æ£€æŸ¥ Node.js ç‰ˆæœ¬...
  âœ… Node.js ç‰ˆæœ¬: v22.0.0 (ç¬¦åˆè¦æ±‚ >= 22.0.0)

ğŸ“¦ æ£€æŸ¥åŒ…ç®¡ç†å™¨...
  âœ… pnpm ç‰ˆæœ¬: 10.0.0 (ç¬¦åˆè¦æ±‚ >= 10.0.0)
  âœ… npm ç‰ˆæœ¬: 11.0.0 (ç¬¦åˆè¦æ±‚ >= 11.0.0)

ğŸ³ æ£€æŸ¥ Docker...
  âœ… Docker: Docker version 24.0.0
  âœ… Docker æœåŠ¡: æ­£åœ¨è¿è¡Œ

ğŸ“ æ£€æŸ¥é¡¹ç›®ç»“æ„...
  âœ… ç›®å½• apps/api: å­˜åœ¨
  âœ… ç›®å½• apps/web: å­˜åœ¨
  âœ… æ–‡ä»¶ package.json: å­˜åœ¨

ğŸ“Š ç¯å¢ƒæ£€æŸ¥æŠ¥å‘Š
==================================================

ğŸ“ˆ æ£€æŸ¥ç»Ÿè®¡:
  âœ… æˆåŠŸ: 25
  âš ï¸  è­¦å‘Š: 2
  âŒ é”™è¯¯: 0
  ğŸ“Š æˆåŠŸç‡: 96%
```

### ğŸ”’ å®‰å…¨å®¡è®¡è„šæœ¬ (`security-audit.js`)

**åŠŸèƒ½**: æ£€æŸ¥ä¾èµ–åŒ…çš„å®‰å…¨æ¼æ´ã€è¿‡æ—¶ä¾èµ–å’Œè®¸å¯è¯é—®é¢˜

**æ£€æŸ¥é¡¹ç›®**:
- ä¾èµ–åŒ…å®‰å…¨æ¼æ´ (é«˜å±/ä¸­å±/ä½å±)
- è¿‡æ—¶ä¾èµ–åŒ…
- è®¸å¯è¯åˆè§„æ€§
- è‡ªåŠ¨ä¿®å¤å»ºè®®

**ä½¿ç”¨æ–¹æ³•**:
```bash
# è¿è¡Œå®‰å…¨å®¡è®¡
node tools/scripts/automation/security-audit.js

# æ£€æŸ¥ç»“æœä¼šä¿å­˜åˆ° docs/generated/reports/checks/security-audit.json
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ”’ å¼€å§‹å®‰å…¨å®¡è®¡...

ğŸ” æ£€æŸ¥ä¾èµ–æ¼æ´...
  âœ… æœªå‘ç°å®‰å…¨æ¼æ´

ğŸ“… æ£€æŸ¥è¿‡æ—¶ä¾èµ–...
  âš ï¸  lodash: 4.17.20 â†’ 4.17.21

ğŸ“„ æ£€æŸ¥è®¸å¯è¯...
  âœ… æœªå‘ç°è®¸å¯è¯é—®é¢˜

ğŸ“Š å®‰å…¨å®¡è®¡æŠ¥å‘Š
==================================================

ğŸ“ˆ å®‰å…¨æ‘˜è¦:
  ğŸ”´ é«˜å±æ¼æ´: 0
  ğŸŸ¡ ä¸­å±æ¼æ´: 0
  ğŸŸ¢ ä½å±æ¼æ´: 0
  ğŸ“¦ è¿‡æ—¶ä¾èµ–: 1
  ğŸ“„ è®¸å¯è¯é—®é¢˜: 0

ğŸ’¡ å®‰å…¨å»ºè®®:
  3. ğŸ“¦ æ›´æ–°è¿‡æ—¶ä¾èµ–:
     pnpm update

ğŸ› ï¸  ä¿®å¤å‘½ä»¤:
  pnpm audit --fix          # è‡ªåŠ¨ä¿®å¤æ¼æ´
  pnpm update               # æ›´æ–°ä¾èµ–
  pnpm audit                # é‡æ–°æ£€æŸ¥
```

### ğŸ” ä»£ç è´¨é‡æ£€æŸ¥è„šæœ¬ (`code-quality-check.js`)

**åŠŸèƒ½**: åˆ†æä»£ç å¤æ‚åº¦ã€é‡å¤ä»£ç ã€ç±»å‹é”™è¯¯å’Œä»£ç è§„èŒƒé—®é¢˜

**æ£€æŸ¥é¡¹ç›®**:
- ä»£ç å¤æ‚åº¦åˆ†æ
- é‡å¤ä»£ç æ£€æµ‹
- TypeScript ç±»å‹æ£€æŸ¥
- ESLint ä»£ç è§„èŒƒæ£€æŸ¥
- ä»£ç æŒ‡æ ‡ç»Ÿè®¡

**ä½¿ç”¨æ–¹æ³•**:
```bash
# è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥
node tools/scripts/automation/code-quality-check.js

# æ£€æŸ¥ç»“æœä¼šä¿å­˜åˆ° docs/generated/reports/checks/code-quality.json
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ” å¼€å§‹ä»£ç è´¨é‡æ£€æŸ¥...

ğŸ“Š åˆ†æä»£ç å¤æ‚åº¦...
  ğŸ“ˆ å‘ç° 3 ä¸ªå¤æ‚åº¦é—®é¢˜

ğŸ”„ æ£€æŸ¥ä»£ç é‡å¤...
  ğŸ”„ å‘ç° 2 å¤„é‡å¤ä»£ç 

ğŸ“ æ£€æŸ¥ TypeScript ç±»å‹...
  âœ… API é¡¹ç›®ç±»å‹æ£€æŸ¥é€šè¿‡
  âœ… Web é¡¹ç›®ç±»å‹æ£€æŸ¥é€šè¿‡

ğŸ” æ£€æŸ¥ä»£ç è§„èŒƒ...
  ğŸ” å‘ç° 5 ä¸ªä»£ç è§„èŒƒé—®é¢˜

ğŸ“Š ä»£ç è´¨é‡æŠ¥å‘Š
==================================================

ğŸ“ˆ ä»£ç è´¨é‡æ‘˜è¦:
  ğŸ“ æ€»æ–‡ä»¶æ•°: 45
  ğŸ“ æ€»ä»£ç è¡Œæ•°: 12,345
  ğŸ”§ æ€»å‡½æ•°æ•°: 156
  ğŸ“Š å¹³å‡å¤æ‚åº¦: 3.2
  ğŸ”„ é‡å¤ä»£ç è¡Œæ•°: 23
  âŒ ç±»å‹é”™è¯¯: 0
  ğŸ” ä»£ç è§„èŒƒé—®é¢˜: 5

ğŸ’¡ æ”¹è¿›å»ºè®®:
  4. ğŸ” ä¿®å¤ä»£ç è§„èŒƒé—®é¢˜

ğŸ› ï¸  ä¿®å¤å‘½ä»¤:
  pnpm run lint:fix          # è‡ªåŠ¨ä¿®å¤ä»£ç è§„èŒƒé—®é¢˜
  pnpm run format            # æ ¼å¼åŒ–ä»£ç 
  npx tsc --noEmit           # æ£€æŸ¥ç±»å‹é”™è¯¯
```

### ğŸ”§ é…ç½®æ¨¡æ¿å’Œå€¼ç®¡ç†å·¥å…· (`config-updater.js`)

**åŠŸèƒ½**: ç®¡ç†é…ç½®æ¨¡æ¿æ–‡ä»¶å’Œæ•æ„Ÿå€¼ï¼Œä»æ¨¡æ¿å’Œå€¼ç”Ÿæˆæœ€ç»ˆé…ç½®æ–‡ä»¶

**ä¸»è¦ç‰¹æ€§**:
- ç®¡ç†é…ç½®æ¨¡æ¿æ–‡ä»¶ï¼ˆç»“æ„å®šä¹‰ï¼‰
- ç®¡ç†æ•æ„Ÿå€¼æ–‡ä»¶ï¼ˆ.env.secretsï¼‰
- ä»æ¨¡æ¿å’Œå€¼ç”Ÿæˆæœ€ç»ˆé…ç½®æ–‡ä»¶
- é…ç½®éªŒè¯å’Œå¤‡ä»½
- äº¤äº’å¼é…ç½®ç®¡ç†

**ä½¿ç”¨æ–¹æ³•**:
```bash
# äº¤äº’å¼é…ç½®ç®¡ç†
node tools/scripts/automation/config-updater.js interactive

# ä»æ¨¡æ¿ç”Ÿæˆé…ç½®æ–‡ä»¶
node tools/scripts/automation/config-updater.js generate

# éªŒè¯é…ç½®
node tools/scripts/automation/config-updater.js validate

# åˆ—å‡ºæ•æ„Ÿå€¼
node tools/scripts/automation/config-updater.js secrets

# åˆ—å‡ºæ¨¡æ¿æ–‡ä»¶
node tools/scripts/automation/config-updater.js templates

# æ·»åŠ é…ç½®é¡¹åˆ°æ¨¡æ¿
node tools/scripts/automation/config-updater.js add-config root NEW_CONFIG

# æ·»åŠ æ•æ„Ÿå€¼
node tools/scripts/automation/config-updater.js add-secret NEW_SECRET "secret-value"

# æ›´æ–°æ•æ„Ÿå€¼
node tools/scripts/automation/config-updater.js update-secret JWT_SECRET "new-secret"

# åˆ›å»ºå¤‡ä»½
node tools/scripts/automation/config-updater.js backup "before-production-deploy"

# ä»å¤‡ä»½æ¢å¤
node tools/scripts/automation/config-updater.js restore config-backup-2025-01-27T10-30-00-000Z

# åˆ—å‡ºå¤‡ä»½
node tools/scripts/automation/config-updater.js list
```

**äº¤äº’å¼ç®¡ç†ç¤ºä¾‹**:
```
ğŸš€ å¼€å§‹äº¤äº’å¼é…ç½®ç®¡ç†...

è¯·é€‰æ‹©è¦æ‰§è¡Œçš„æ“ä½œ:
1. æ·»åŠ æ–°çš„é…ç½®é¡¹åˆ°æ¨¡æ¿
2. æ·»åŠ /æ›´æ–°æ•æ„Ÿå€¼
3. ä»æ¨¡æ¿ç”Ÿæˆé…ç½®æ–‡ä»¶
4. éªŒè¯é…ç½®
5. åˆ—å‡ºæ•æ„Ÿå€¼
6. åˆ—å‡ºæ¨¡æ¿æ–‡ä»¶
7. åˆ›å»ºå¤‡ä»½
8. ä»å¤‡ä»½æ¢å¤

è¯·è¾“å…¥é€‰æ‹© (1-8): 2

ğŸ” æ›´æ–°æ•æ„Ÿå€¼:

ç°æœ‰æ•æ„Ÿå€¼:
1. JWT_SECRET
2. DB_PASSWORD
3. REDIS_PASSWORD
4. API_KEY
5. æ·»åŠ æ–°çš„æ•æ„Ÿå€¼

è¯·é€‰æ‹©è¦æ›´æ–°çš„æ•æ„Ÿå€¼: 1
è¯·è¾“å…¥æ–°çš„ JWT_SECRET å€¼: new-jwt-secret-here
âœ… å·²æ›´æ–°æ•æ„Ÿå€¼: JWT_SECRET

âœ… æ“ä½œå®Œæˆï¼
```

### ğŸ”’ å®‰å…¨é…ç½®æ£€æŸ¥è„šæœ¬ (`security-check.js`)

**åŠŸèƒ½**: æ£€æŸ¥é¡¹ç›®ä¸­çš„å®‰å…¨é…ç½®é—®é¢˜ï¼ŒåŒ…æ‹¬ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯

**æ£€æŸ¥é¡¹ç›®**:
- ç¡¬ç¼–ç å¯†ç å’Œå¯†é’¥
- é»˜è®¤å¯†ç å’Œå¯†é’¥
- ç¯å¢ƒé…ç½®æ–‡ä»¶éªŒè¯
- .gitignore é…ç½®æ£€æŸ¥

**ä½¿ç”¨æ–¹æ³•**:
```bash
# è¿è¡Œå®‰å…¨é…ç½®æ£€æŸ¥
pnpm run security:check
# æˆ–
node tools/scripts/automation/security-check.js
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ”’ å¼€å§‹å®‰å…¨é…ç½®æ£€æŸ¥...

ğŸ” æ£€æŸ¥ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯...
ğŸ” æ£€æŸ¥ç¯å¢ƒé…ç½®æ–‡ä»¶...
âœ… .env é…ç½®æ­£ç¡®
âœ… apps/api/.env é…ç½®æ­£ç¡®
âœ… apps/web/.env é…ç½®æ­£ç¡®
ğŸ” æ£€æŸ¥ .gitignore é…ç½®...
âœ… .gitignore é…ç½®æ­£ç¡®

ğŸ“Š å®‰å…¨æ£€æŸ¥æŠ¥å‘Š
==================================================
âœ… æœªå‘ç°å®‰å…¨é—®é¢˜ï¼
```

### ğŸ—„ï¸ æ•°æ®åº“é…ç½®æ£€æŸ¥è„šæœ¬ (`check-database-config.js`)

**åŠŸèƒ½**: æ£€æŸ¥PostgreSQLå’ŒRedisçš„é…ç½®å’Œè¿æ¥çŠ¶æ€

**æ£€æŸ¥é¡¹ç›®**:
- Docker æœåŠ¡çŠ¶æ€
- Docker Compose é…ç½®
- ç¯å¢ƒå˜é‡é…ç½®
- æ•°æ®åº“ç›®å½•ç»“æ„
- Prisma é…ç½®

**ä½¿ç”¨æ–¹æ³•**:
```bash
# æ£€æŸ¥æ•°æ®åº“é…ç½®
node tools/scripts/automation/check-database-config.js
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ” æ£€æŸ¥æ•°æ®åº“é…ç½®...

ğŸ“Š æ£€æŸ¥ç»“æœ:

âœ… DOCKER:
   âœ… Docker å·²å®‰è£…
   âœ… Docker æœåŠ¡æ­£åœ¨è¿è¡Œ

âœ… POSTGRES:
   âœ… PostgreSQL æœåŠ¡å·²é…ç½®
   âœ… PostgreSQL æ•°æ®æŒä¹…åŒ–å·²é…ç½®åˆ°é¡¹ç›®ç›®å½•
   âœ… PostgreSQL æ•°æ®ç›®å½•å­˜åœ¨
   âœ… Prisma schema æ–‡ä»¶å­˜åœ¨
   âœ… Prisma é…ç½®ä¸º PostgreSQL

âœ… REDIS:
   âœ… Redis æœåŠ¡å·²é…ç½®
   âœ… Redis æ•°æ®æŒä¹…åŒ–å·²é…ç½®åˆ°é¡¹ç›®ç›®å½•
   âœ… Redis æ•°æ®ç›®å½•å­˜åœ¨

âœ… CONFIG:
   âœ… docker-compose.yml æ–‡ä»¶å­˜åœ¨
   âœ… env-templates/api.env å­˜åœ¨
   âœ… env-templates/web.env å­˜åœ¨
   âœ… env-templates/root.env å­˜åœ¨
   âœ… API ç¯å¢ƒé…ç½®åŠ è½½å™¨å­˜åœ¨
   âœ… Docker Compose é…ç½®æ–‡ä»¶æœ‰æ•ˆ

ğŸ’¡ é…ç½®å»ºè®®:

3. å¯åŠ¨æ•°æ®åº“æœåŠ¡:
   cd infrastructure/docker
   docker compose up -d postgres redis

4. è¿è¡Œæ•°æ®åº“è¿ç§»:
   pnpm --filter fastify-api run prisma:migrate

5. ç”Ÿæˆ Prisma å®¢æˆ·ç«¯:
   pnpm --filter fastify-api run prisma:generate
```

### ğŸ”— æ•°æ®åº“è¿æ¥æµ‹è¯•è„šæœ¬ (`test-database-connection.js`)

**åŠŸèƒ½**: æµ‹è¯•PostgreSQLå’ŒRedisçš„è¿æ¥çŠ¶æ€

**æµ‹è¯•é¡¹ç›®**:
- PostgreSQL è¿æ¥æµ‹è¯•
- Redis è¿æ¥æµ‹è¯•
- Prisma æ•°æ®åº“è¿æ¥æµ‹è¯•
- Docker å®¹å™¨çŠ¶æ€æ£€æŸ¥

**ä½¿ç”¨æ–¹æ³•**:
```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
node tools/scripts/automation/test-database-connection.js
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ” æµ‹è¯•æ•°æ®åº“è¿æ¥...

ğŸ³ Docker å®¹å™¨çŠ¶æ€:
CONTAINER ID   IMAGE       COMMAND                  CREATED         STATUS         PORTS                    NAMES
abc123def456   postgres:15 "docker-entrypoint.sâ€¦"   2 hours ago     Up 2 hours     0.0.0.0:5432->5432/tcp   docker-postgres-1
def456ghi789   redis:7     "docker-entrypoint.sâ€¦"   2 hours ago     Up 2 hours     0.0.0.0:6379->6379/tcp   docker-redis-1

ğŸ“Š è¿æ¥æµ‹è¯•ç»“æœ:

âœ… POSTGRES:
   âœ… PostgreSQL è¿æ¥æˆåŠŸ
   ğŸ“Š ç‰ˆæœ¬ä¿¡æ¯: PostgreSQL 15.4

âœ… REDIS:
   âœ… Redis è¿æ¥æˆåŠŸ
   ğŸ“Š å“åº”: PONG

âœ… PRISMA:
   âœ… Prisma æ•°æ®åº“è¿æ¥æˆåŠŸ
   ğŸ“Š æ•°æ®åº“æ¨¡å¼å·²åŒæ­¥

ğŸ‰ æ‰€æœ‰æ•°æ®åº“è¿æ¥æµ‹è¯•é€šè¿‡ï¼
```

### ğŸ“Š è‡ªåŠ¨åŒ–ä»»åŠ¡åˆ†æè„šæœ¬ (`automation-analysis.js`)

**åŠŸèƒ½**: åˆ†æé¡¹ç›®ä¸­å¯ä»¥è‡ªåŠ¨åŒ–çš„ä»»åŠ¡å’Œæ“ä½œ

**åˆ†æé¡¹ç›®**:
- ç°æœ‰è‡ªåŠ¨åŒ–ä»»åŠ¡
- ç¼ºå¤±çš„è‡ªåŠ¨åŒ–ä»»åŠ¡
- è‡ªåŠ¨åŒ–å»ºè®®
- å®æ–½è®¡åˆ’

**ä½¿ç”¨æ–¹æ³•**:
```bash
# è¿è¡Œè‡ªåŠ¨åŒ–åˆ†æ
node tools/scripts/automation/automation-analysis.js

# åˆ†æç»“æœä¼šä¿å­˜åˆ° docs/generated/automation-analysis.md
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ” åˆ†æé¡¹ç›®è‡ªåŠ¨åŒ–ä»»åŠ¡...

ğŸ“‹ åˆ†æç°æœ‰è‡ªåŠ¨åŒ–...
ğŸ” åˆ†æç¼ºå¤±çš„è‡ªåŠ¨åŒ–...
ğŸ’¡ ç”Ÿæˆè‡ªåŠ¨åŒ–å»ºè®®...
ğŸ“Š ç”Ÿæˆåˆ†ææŠ¥å‘Š...
ğŸ“„ ç”Ÿæˆåˆ†ææŠ¥å‘Š: docs/generated/automation-analysis.md
âœ… è‡ªåŠ¨åŒ–ä»»åŠ¡åˆ†æå®Œæˆï¼
```

### ğŸš€ ç»¼åˆæ£€æŸ¥è„šæœ¬ (`run-all-checks.js`)

**åŠŸèƒ½**: è¿è¡Œæ‰€æœ‰è‡ªåŠ¨åŒ–æ£€æŸ¥å’Œä»»åŠ¡

**æ£€æŸ¥é¡¹ç›®**:
- ç¯å¢ƒæ£€æŸ¥
- å®‰å…¨å®¡è®¡
- ä»£ç è´¨é‡æ£€æŸ¥
- ä»£ç è§„èŒƒæ£€æŸ¥
- ä»£ç æ ¼å¼åŒ–æ£€æŸ¥
- TypeScript ç±»å‹æ£€æŸ¥
- æµ‹è¯•è¿è¡Œ

**ä½¿ç”¨æ–¹æ³•**:
```bash
# è¿è¡Œæ‰€æœ‰æ£€æŸ¥
pnpm run check:all
# æˆ–
node tools/scripts/automation/run-all-checks.js

# æ£€æŸ¥ç»“æœä¼šä¿å­˜åˆ° docs/generated/reports/checks/comprehensive-check.json
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸš€ å¼€å§‹ç»¼åˆè‡ªåŠ¨åŒ–æ£€æŸ¥...

ğŸ” è¿è¡Œ ç¯å¢ƒæ£€æŸ¥...
  âœ… ç¯å¢ƒæ£€æŸ¥ é€šè¿‡ (1234ms)
ğŸ” è¿è¡Œ å®‰å…¨å®¡è®¡...
  âœ… å®‰å…¨å®¡è®¡ é€šè¿‡ (567ms)
ğŸ” è¿è¡Œ ä»£ç è´¨é‡æ£€æŸ¥...
  âœ… ä»£ç è´¨é‡æ£€æŸ¥ é€šè¿‡ (2345ms)
ğŸ” è¿è¡Œ ä»£ç è§„èŒƒæ£€æŸ¥...
  âš ï¸  ä»£ç è§„èŒƒæ£€æŸ¥ æœ‰è­¦å‘Š (890ms)
ğŸ” è¿è¡Œ ä»£ç æ ¼å¼åŒ–æ£€æŸ¥...
  âœ… ä»£ç æ ¼å¼åŒ–æ£€æŸ¥ é€šè¿‡ (456ms)
ğŸ” è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥...
  âœ… TypeScript ç±»å‹æ£€æŸ¥ é€šè¿‡ (1234ms)
ğŸ” è¿è¡Œ æµ‹è¯•è¿è¡Œ...
  âœ… æµ‹è¯•è¿è¡Œ é€šè¿‡ (3456ms)

ğŸ“Š ç»¼åˆæ£€æŸ¥æŠ¥å‘Š
============================================================

ğŸ“ˆ æ£€æŸ¥æ‘˜è¦:
  âœ… é€šè¿‡: 6
  âš ï¸  è­¦å‘Š: 1
  âŒ å¤±è´¥: 0
  ğŸ“Š æ€»è®¡: 7
  ğŸ¯ æˆåŠŸç‡: 86%

ğŸ“‹ è¯¦ç»†ç»“æœ:
  âœ… ç¯å¢ƒæ£€æŸ¥ (1234ms)
  âœ… å®‰å…¨å®¡è®¡ (567ms)
  âœ… ä»£ç è´¨é‡æ£€æŸ¥ (2345ms)
  âš ï¸  ä»£ç è§„èŒƒæ£€æŸ¥ (890ms)
  âœ… ä»£ç æ ¼å¼åŒ–æ£€æŸ¥ (456ms)
  âœ… TypeScript ç±»å‹æ£€æŸ¥ (1234ms)
  âœ… æµ‹è¯•è¿è¡Œ (3456ms)

ğŸ’¡ æ”¹è¿›å»ºè®®:

ğŸŸ¡ å»ºè®®æ”¹è¿›:
  - ä»£ç è§„èŒƒæ£€æŸ¥: è¿è¡Œ pnpm run lint:fix è‡ªåŠ¨ä¿®å¤

ğŸ› ï¸  å¸¸ç”¨ä¿®å¤å‘½ä»¤:
  pnpm run lint:fix          # è‡ªåŠ¨ä¿®å¤ä»£ç è§„èŒƒé—®é¢˜
  pnpm run format            # æ ¼å¼åŒ–ä»£ç 
  pnpm run test              # è¿è¡Œæµ‹è¯•
  pnpm run check:security    # å®‰å…¨å®¡è®¡
  pnpm run check:quality     # ä»£ç è´¨é‡æ£€æŸ¥

ğŸ“„ ç»¼åˆæ£€æŸ¥æŠ¥å‘Šå·²ä¿å­˜:
  JSON: docs/generated/reports/checks/comprehensive-check.json
  Markdown: docs/generated/reports/checks/comprehensive-check.md

âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼
```

---

## ğŸ“ è¾“å‡ºæ–‡ä»¶

æ‰€æœ‰è„šæœ¬çš„æ£€æŸ¥ç»“æœéƒ½ä¼šä¿å­˜åˆ°ä»¥ä¸‹ä½ç½®ï¼š

```
docs/generated/reports/checks/
â”œâ”€â”€ environment-check.json          # ç¯å¢ƒæ£€æŸ¥ç»“æœ
â”œâ”€â”€ security-audit.json            # å®‰å…¨å®¡è®¡ç»“æœ
â”œâ”€â”€ security-audit.md              # å®‰å…¨å®¡è®¡æŠ¥å‘Š
â”œâ”€â”€ code-quality.json              # ä»£ç è´¨é‡æ£€æŸ¥ç»“æœ
â”œâ”€â”€ code-quality.md                # ä»£ç è´¨é‡æŠ¥å‘Š
â”œâ”€â”€ comprehensive-check.json       # ç»¼åˆæ£€æŸ¥ç»“æœ
â””â”€â”€ comprehensive-check.md         # ç»¼åˆæ£€æŸ¥æŠ¥å‘Š
```

---

## ğŸ”§ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡

```bash
# æ£€æŸ¥è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
CHECK_TIMEOUT=30000

# æŠ¥å‘Šè¾“å‡ºç›®å½•
REPORTS_DIR=docs/generated/reports/checks

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=info
```

### é…ç½®æ–‡ä»¶

æŸäº›è„šæœ¬æ”¯æŒé…ç½®æ–‡ä»¶ï¼Œé€šå¸¸ä½äºé¡¹ç›®æ ¹ç›®å½•ï¼š

```json
{
  "automation": {
    "timeout": 30000,
    "outputDir": "docs/generated/reports/checks",
    "includeWarnings": true
  }
}
```

---

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æƒé™é”™è¯¯**
   ```bash
   # ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™
   chmod +x tools/scripts/automation/*.js
   ```

2. **ä¾èµ–ç¼ºå¤±**
   ```bash
   # å®‰è£…ç¼ºå¤±çš„ä¾èµ–
   pnpm install
   ```

3. **Docker æœåŠ¡æœªè¿è¡Œ**
   ```bash
   # å¯åŠ¨ Docker æœåŠ¡
   docker-compose up -d
   ```

4. **ç¯å¢ƒå˜é‡æœªè®¾ç½®**
   ```bash
   # ç”Ÿæˆç¯å¢ƒé…ç½®
   pnpm run restore
   ```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
DEBUG=* node tools/scripts/automation/check-environment.js

# å¯ç”¨è°ƒè¯•æ¨¡å¼
NODE_ENV=development node tools/scripts/automation/security-audit.js
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®ç¯å¢ƒé…ç½®æŒ‡å—](../../../docs/security/configuration-update-guide.md)
- [å®‰å…¨ä¿®å¤è®¡åˆ’](../../../docs/security/security-fix-plan.md)
- [ä»£ç è´¨é‡è§„èŒƒ](../../../docs/development/dev-tools.md)
- [æ•°æ®åº“é…ç½®æ–‡æ¡£](../../../docs/database/database-config.md)

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. æ·»åŠ æ–°çš„æ£€æŸ¥é¡¹ç›®æ—¶ï¼Œè¯·æ›´æ–°ç›¸åº”çš„æ–‡æ¡£
2. ç¡®ä¿æ‰€æœ‰è„šæœ¬éƒ½æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
3. æ·»åŠ æµ‹è¯•ç”¨ä¾‹éªŒè¯è„šæœ¬åŠŸèƒ½
4. æ›´æ–° README æ–‡æ¡£è¯´æ˜æ–°åŠŸèƒ½

---

*æœ€åæ›´æ–°: 2025-01-27*
